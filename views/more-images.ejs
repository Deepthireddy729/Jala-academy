<%- include('layout', { 
  title: 'More - Images', 
  body: `
    <section class="dashboard">
      <h1>Uploading/Downloading Image</h1>
      <form method="post" action="/more/images" enctype="multipart/form-data" class="employee-form">
        <div class="form-row-3">
          <div class="form-group">
            <label for="image">Select File :</label>
            <input type="file" id="image" name="image" accept="image/*" />
          </div>
          <div class="form-group">
            <label>File Name :</label>
            <input type="text" id="fileNameDisplay" readonly placeholder="File Name" />
          </div>
          <div class="form-group" style="display:flex; align-items:flex-end;">
            <button type="submit" class="btn primary" style="background:#16a34a;">Upload</button>
          </div>
        </div>
        ${error ? `<div class="error" style="max-width:400px;">${error}</div>` : ''}
      </form>

      <script>
        const fileInput = document.getElementById('image');
        const fileNameDisplay = document.getElementById('fileNameDisplay');
        if (fileInput && fileNameDisplay) {
          fileInput.addEventListener('change', () => {
            const file = fileInput.files && fileInput.files[0];
            fileNameDisplay.value = file ? file.name : '';
          });
        }
      </script>

      <h2 class="employee-section-title" style="margin-top:2rem;">List Of Images :</h2>
      ${images.length === 0
        ? '<p>No images uploaded yet.</p>'
        : `
          <div class="cards">
            ${images
              .map(
                (file) => `
                  <div class="card">
                    <img src="/uploads/${file}" alt="${file}" style="max-width:100%; height:auto;" />
                    <p>${file}</p>
                    <a href="/uploads/${file}" download class="btn small primary" style="margin-top:0.5rem;">Download</a>
                  </div>
                `
              )
              .join('')}
          </div>
        `}
    </section>
  ` 
}) %>


